/* stylelint-disable no-descending-specificity */
@import 'mediawiki.skin.variables.less';

.mw-twocolconflict-split-editable {
	.mw-twocolconflict-split-editor {
		display: none;
		border: 0;
		margin: 0;
		min-height: 5em;
		outline: 0;
		padding: 0;
		resize: vertical;
		overflow: auto;
		box-shadow: none;
		background: @background-color-transparent;
		color: #000;

		&:focus {
			border: 0;
		}
	}

	/* stylelint-disable-next-line selector-max-id */
	#toolbar {
		display: none;
	}
}

.mw-twocolconflict-split-editing {
	.mw-twocolconflict-single-column,
	.mw-twocolconflict-split-selected,
	.mw-twocolconflict-split-copy {
		.mw-twocolconflict-split-editable {
			.mw-twocolconflict-split-collapse-button,
			.mw-twocolconflict-split-difftext,
			.mw-twocolconflict-split-edit-button {
				display: none;
			}

			.mw-twocolconflict-split-editor,
			.mw-twocolconflict-split-reset-button,
			.mw-twocolconflict-split-save-button {
				display: block;
			}
		}
	}

	.mw-twocolconflict-single-column,
	.mw-twocolconflict-split-column {
		overflow-wrap: break-word;
		-moz-appearance: textfield-multiline;
		/* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */
		font: medium '-moz-fixed';
		/* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */
		font: '-webkit-small-control';
		font-size: medium;
		line-height: normal;
		color: initial;
	}
}

.client-nojs {
	.mw-twocolconflict-split-editable {
		&.mw-twocolconflict-split-collapsed {
			max-height: none;
		}

		.mw-twocolconflict-split-difftext,
		.mw-twocolconflict-split-fade {
			display: none;
		}

		.mw-twocolconflict-split-editor {
			display: block;
			overflow: auto;
		}
	}

	.mw-twocolconflict-single-column,
	.mw-twocolconflict-split-column {
		// We could as well use a mixin, but that would result in a bigger CSS file
		&:extend( .mw-twocolconflict-split-editing .mw-twocolconflict-single-column );

		// No need to reserve space for buttons, as there are none
		padding: 0;

		.mw-twocolconflict-split-editor {
			// Re-apply the removed padding to the *inside* of the <textarea>
			padding: 5px 5px 5px 20px;
		}
	}
}
